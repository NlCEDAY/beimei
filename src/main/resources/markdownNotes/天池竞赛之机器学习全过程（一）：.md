## 天池竞赛之机器学习全过程（一）：

### 数据探索方法论与步骤：

#### 一：变量识别

##### 1.判断标签和特征

##### 2.判断数据类型

- 字符型
- 数值型

##### 3.判断是分类问题还是回归问题

##### 4.判断变量是连续型变量还是类别型变量

#### 二：变量分析

##### 1.单变量分析

- `连续型变量`

> 统计**数据的中心分布趋势**和**变量的分布**

- `类别型变量`

> 统计**频次或占比**来表示每一个类别的分布情况

##### 2.双变量分析

- `连续型与连续型`

  - 绘制散点图：反映变量之间的关系（线性非线性）

  - 计算相关性：反映变量关系强弱

    > 0-0.09--没有相关性
    >
    > 0.1-0.3--弱相关
    >
    > 0.3-0.5--中等相关
    >
    > 0.5-1.0--强相关

- `类别型与类别型`

  - 双向表

  > 建立**频次和频率**的双向表来分析变量

  - 堆叠柱状图

  > 和双向表相同，但是以堆叠柱状图的方式来表示更加直观

  - 卡方检验

  > 比较**理论频次与实际频次**的吻合程度

  

- `类别型与连续型`

  > 分析类别变量在不同类别时，另一个连续变量的分布情况

  - 小提琴图



#### 三：缺失值处理

##### 缺失值产生原因

- 机械原因

  > 数据存储的失败，存储器损坏，机械故障导致数据未收集

- 人为原因

  > 主观失误，历史局限，有意隐瞒造成的数据缺失

##### 缺失值分类

- 完全随机丢失

  > 对于某个变量的所有观察结果，丢失概率相同，
  >
  > 例当是否显示收入这个变量，受访者采取抛硬币的方式来判断，那么必有一半的可能回丢失他们的收入数据。

- 随机丢失

  > 因输入变量的值而产生的丢失概率变化，
  >
  > 例收集年龄信息时，女性年龄的数据缺失率要高于男性的

- 不可预测因子导致的缺失

  > 数据丢失存在潜在因子的影响，
  >
  > 例某手术会导致病人不适，这项手术数据因为‘不适’而缺失

- 取决于自身的缺失

  > 缺失概率受缺失值本身影响，
  >
  > 例收入很高和很低的人都不愿意透露自己的收入。

##### 缺失值处理方法

- 删除

  - 删除特征
  - 删除特征对应的缺失值的行

- 均值，模型，中值填充

- 预测模型填充

  > 将没有缺失的做训练集，将有缺失的做测试集，让模型取预测缺失值
  >
  > ps：如果变量之间不存在关系，得到的缺失值回不准确。

#### 四：异常值处理

##### 异常值产生原因

- 数据输入误差
- 测量误差
- 实验误差
- 数据处理误差
- 采样误差

##### 异常值影响

> 增加错误方差，降低模型的拟合能力，异常值的非随机分布降低正态性，影响回归，方差分析等统计模型的基本假设。

##### 异常值的检测

> 利用箱线图，直方图，散点图等

##### 异常值处理方法

- 删除

- 转换

  > 对数据取对数减轻由机制引起的变化

- 填充

  > 人为的异常值可以用预测模型填充

- 区别对待

  > 将数据分为两个不同组，异常值归为一组，非异常值归为一组，两组分别建模型，最终将两组输出合并。

#### 五：变量转换

##### 变量转换目的：

> 利用直方图等工具分析发现变量取值分布不均，不符合正态分布，回极大影响估计

##### 变量转换方法：

- 缩放比例标准化

  > 将数据归一化，标准化

- 非线性关系转换成线性

  > 对数转换，缺点是不能用于含零或负值的变量

- 倾斜分布对称

  > 向右倾斜的分布（左边多，右边少），使用平方根立方根，对数
  >
  > 向左倾斜的分布，使用平方立方，指数

- 变量分组

  > 对变量进行分类，利用原始值，百分比，频率

#### 六：生成新变量

> 基于现有变量生成新变量的过程，生成的新变量可能有更好的相关性

##### 变量生成的方法

- 创建派生变量

  > 使用一组函数或不同方法从现有变量创建新变量（substring）

- 创建哑变量

  > 将类别型变量转换为数值型变量





